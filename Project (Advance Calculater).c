#include<stdio.h>
#include<math.h>
#include<stdbool.h>
void clear_screen()
{
  printf("\e[2J\e[H");
  //\e is the operator character . It signals the start of an escape sequence.
  //[2j command to clear entire screen
  //\033[H command to move the cursor to home position
}

void Show_Calculator()
{
    printf(" ______________________________________________________________________________________\n");
    printf("|  __________________________________________________________________________________  |\n");
    printf("| |--------------                                                    ----------------| |\n");
    printf("| |---------                                                                ---------| |\n");
    printf("| |---                     _________________________________                    -----| |\n");
    printf("| |--                     |          SCIENTIFIC             |                      --| |\n");
    printf("| |-----                  |          CALCULATOR             |                   -----| |\n");
    printf("| |----------             |_________________________________|               ---------| |\n");
    printf("| |---------------                                                  -----------------| |\n");
    printf("| |__________________________________________________________________________________| |\n");
    printf("|______________________________________________________________________________________|\n");
    printf("|  ________________________   ___________________________   _________________________  |\n");
    printf("| |           +            | |           -               | |          *              | |\n");
    printf("| |          Add           | |         Minus             | |        Multiply         | |\n");
    printf("| |________________________| |___________________________| |_________________________| |\n");
    printf("|______________________________________________________________________________________|\n");
    printf("|  ________________________   ___________________________   _________________________  |\n");
    printf("| |          /             | |            m              | |            L            | |\n");
    printf("| |        Divide          | |           Mod             | |           Log           | |\n");
    printf("| |________________________| |___________________________| |_________________________| |\n");
    printf("|______________________________________________________________________________________|\n");
    printf("|  ________________________   ___________________________   _________________________  |\n");
    printf("| |          S             | |             C             | |           p             | |\n");
    printf("| |       Square           | |           Cube            | |         Power           | |\n");
    printf("| |________________________| |___________________________| |_________________________| |\n");
    printf("|______________________________________________________________________________________|\n");
    printf("|  ________________________   ___________________________   _________________________  |\n");
    printf("| |         s              | |            c              | |          t              | |\n");
    printf("| |        Sin             | |           Cos             | |         tan             | |\n");
    printf("| |________________________| |___________________________| |_________________________| |\n");
    printf("|______________________________________________________________________________________|\n");
    printf("|  ________________________   ___________________________   _________________________  |\n");
    printf("| |           r            | |           k               | |          .              | |\n");
    printf("| |        sq root         | |         Clear             | |        Close            | |\n");
    printf("| |________________________| |___________________________| |_________________________| |\n");
    printf("|______________________________________________________________________________________|\n");


}

void display_Output(double answer)
{
  clear_screen();
  Show_Calculator();

    printf(" ______________________________________________________________________________________\n");
    printf("|  __________________________________________________________________________________  |\n");
    printf("| |--------------                                                    ----------------| |\n");
    printf("| |---------                             ____________________________________________| |\n");
    printf("| |---                CURRENT            |                                           | |\n");
    printf("| |--                 OUTPUT IS:         |         %-15.6lf                   | |\n",answer);
    printf("| |-----                                 |___________________________________________| |\n");
    printf("| |----------                                                                        | |\n");
    printf("| |---------------                                                  -----------------| |\n");
    printf("| |__________________________________________________________________________________| |\n");
    printf("|______________________________________________________________________________________|\n");
    printf("|  ________________________   ___________________________   _________________________  |\n");
    printf("| |           +            | |           -               | |          *              | |\n");
    printf("| |          Add           | |         Minus             | |        Multiply         | |\n");
    printf("| |________________________| |___________________________| |_________________________| |\n");
    printf("|______________________________________________________________________________________|\n");
    printf("|  ________________________   ___________________________   _________________________  |\n");
    printf("| |          /             | |            m              | |            L            | |\n");
    printf("| |        Divide          | |           Mod             | |           Log           | |\n");
    printf("| |________________________| |___________________________| |_________________________| |\n");
    printf("|______________________________________________________________________________________|\n");
    printf("|  ________________________   ___________________________   _________________________  |\n");
    printf("| |          S             | |             C             | |           p             | |\n");
    printf("| |       Square           | |           Cube            | |         Power           | |\n");
    printf("| |________________________| |___________________________| |_________________________| |\n");
    printf("|______________________________________________________________________________________|\n");
    printf("|  ________________________   ___________________________   _________________________  |\n");
    printf("| |         s              | |            c              | |          t              | |\n");
    printf("| |        Sin             | |           Cos             | |         tan             | |\n");
    printf("| |________________________| |___________________________| |_________________________| |\n");
    printf("|______________________________________________________________________________________|\n");
    printf("|  ________________________   ___________________________   _________________________  |\n");
    printf("| |           r            | |           k               | |          .              | |\n");
    printf("| |        sq root         | |         Clear             | |        Close            | |\n");
    printf("| |________________________| |___________________________| |_________________________| |\n");
    printf("|______________________________________________________________________________________|\n");


}
int main()

{
   double num1 = 0.0, num2 = 0.0, answer = 0.0;

   char input='\n';

    bool usepreviouseresult = false;




   while (true)
   {
        if (usepreviouseresult)
             {
                  display_Output(answer);
              }

       else   {
             clear_screen();
             Show_Calculator();
              }

      printf("\nEnter Operator: ");
      scanf(" %c", &input);

      if(input == 'k')
            {
              printf("All Clear!\n");

              answer = 0.0;
              usepreviouseresult = false;
              continue;
            }

    if(input =='.')
            {
            printf(" ______________________________________________________________________________________\n");
    printf("|  __________________________________________________________________________________  |\n");
    printf("| |--------------                                                    ----------------| |\n");
    printf("| |---------                             ____________________________________________| |\n");
    printf("| |---                CURRENT            |                                           | |\n");
    printf("| |--                 OUTPUT IS:         |         Calculator is OFF                 | |\n", answer);
    printf("| |-----                                 |___________________________________________| |\n");
    printf("| |----------                                                                        | |\n");
    printf("| |---------------                                                  -----------------| |\n");
    printf("| |__________________________________________________________________________________| |\n");
    printf("|______________________________________________________________________________________|\n");
    printf("|  ________________________   ___________________________   _________________________  |\n");
    printf("| |           +            | |           -               | |          *              | |\n");
    printf("| |          Add           | |         Minus             | |        Multiply         | |\n");
    printf("| |________________________| |___________________________| |_________________________| |\n");
    printf("|______________________________________________________________________________________|\n");
    printf("|  ________________________   ___________________________   _________________________  |\n");
    printf("| |          /             | |            m              | |            L            | |\n");
    printf("| |        Divide          | |           Mod             | |           Log           | |\n");
    printf("| |________________________| |___________________________| |_________________________| |\n");
    printf("|______________________________________________________________________________________|\n");
    printf("|  ________________________   ___________________________   _________________________  |\n");
    printf("| |          S             | |             C             | |           p             | |\n");
    printf("| |       Square           | |           Cube            | |         Power           | |\n");
    printf("| |________________________| |___________________________| |_________________________| |\n");
    printf("|______________________________________________________________________________________|\n");
    printf("|  ________________________   ___________________________   _________________________  |\n");
    printf("| |         s              | |            c              | |          t              | |\n");
    printf("| |        Sin             | |           Cos             | |         tan             | |\n");
    printf("| |________________________| |___________________________| |_________________________| |\n");
    printf("|______________________________________________________________________________________|\n");
    printf("|  ________________________   ___________________________   _________________________  |\n");
    printf("| |           r            | |           k               | |          .              | |\n");
    printf("| |        sq root         | |         Clear             | |        Close            | |\n");
    printf("| |________________________| |___________________________| |_________________________| |\n");
    printf("|______________________________________________________________________________________|\n");

            break;
            }

    if(input=='+' || input=='-' || input=='*' || input=='/' || input=='m' || input=='p')
            {
                 if(usepreviouseresult)
                   {
                     num1 = answer;

                     printf("Enter num2:  ");
                     scanf(" %lf", &num2);
                    }

                 else
                   {
                     printf("Enter num1:  ");
                     scanf(" %lf", &num1);

                     printf("Enter num2:  ");
                     scanf(" %lf", &num2);
                   }
            }


        else if (input=='S' || input=='C' || input=='s' || input=='c' || input=='L' || input=='r' || input=='t')
        {
          if(usepreviouseresult)
            {
              num1 = answer;
            }
          else
          {
            printf("Enter num1: ");
            scanf("%lf", &num1);
          }
        }

      else{

      printf("Invalid Operator. Please tryagain!\n");
      usepreviouseresult = false;
      continue;
        }

          switch(input)
          {
             case '+':
                 answer = num1 + num2;
                 break;

             case '-':
                  answer = num1 - num2;
                 break;

             case '*':
                  answer = num1 * num2;
                  break;

             case '/':
                  if(num2 == 0)
                  {
                    printf("Math Error\n");
                    usepreviouseresult = false;
                    continue;
                  }
                  answer = num1 / num2;
                  break;

              case 'm':
                  answer = fmod(num1,num2);
                  break;

              case 'p':
                  answer = pow(num1,num2);
                  break;


             case 'L':
                    if(num1 <= 0)
                  {
                    printf("Math Error\n");
                    usepreviouseresult = false;
                    continue;
                  }
                  answer = log(num1);
                  break;

             case'S':
                  answer = num1*num1;
                  break;

             case'C':
                  answer = num1*num1*num1;
                  break;



             case's':
                  answer = sin(num1);
                  break;

             case 'c':
                  answer = cos(num1);
                  break;

             case 't':
                  answer = tan(num1);
                  break;

             case 'r':
                   if(num1 < 0)
                  {
                    printf("Math Error\n");
                    usepreviouseresult = false;
                    continue;
                  }
                  answer = sqrt(num1);
                  break;





          }

         usepreviouseresult = true;


        }
   return 0;
        }
